<html>
    <head>
        <link href="styles.css" rel="stylesheet" type="text/css">
        <link href="iframe.css" rel="stylesheet" type="text/css">
        <meta charset="UTF-8">
        <title> eFellow404's test site</title>
    </head>
    <body>
		<script>
			let details = navigator.userAgent;
			let regexp = /android|iphone|kindle|ipad/i;
			let isMobileDevice = regexp.test(details);
	
			if (isMobileDevice) {
				window.location.href = "Surfing.html";
			} else {
				document.write("");
			}
		</script>
        <header>
            <div class="container">
              <img src="img/logo.png" alt="logo" class="logo">
        
              <nav>
                <ul>
                  <li><a href="https://github.com/eFellow404" target="_blank" rel="noopener noreferrer">Github Profile</a></li>
                  <li><a href="https://steamcommunity.com/id/eFellow_/" target="_blank" rel="noopener noreferrer">Steam Profile</a></li>
                  <li><a href="123.html"  target="_blank" rel="noopener noreferrer">First coding project</a></li>
                  <li><a href="iframe.html" target="_blank" rel="noopener noreferrer">cool things</a></li>
                </ul>
              </nav>
            </div>
          </header>
          <div>
            <img src="img/logo2.png" class="profile">
          </div>
          <div class="text">
            <p>
              <h1> Hey! I'm eFellow404 </h1><br> I enjoy playing games on pc and xbox (pc more) <br><br> I know how to code in html, css and I'm learning Lua <br><br> cheack the navogation bar above for some of my cool things!
            </p>
          </div>
          <body>
            <div id="image-track" data-mouse-down-at="0" data-prev-percentage="0">
              <img class="image" src="img/1.jpg" draggable="false" />
              <img class="image" src="img/2.jpg" draggable="false" />
              <img class="image" src="img/3.jpg" draggable="false" />
              <img class="image" src="img/4.jpg" draggable="false" />
              <img class="image" src="img/5.jpg" draggable="false" />
              <img class="image" src="img/6.jpg" draggable="false" />
              <img class="image" src="img/7.jpg" draggable="false" />
              <img class="image" src="img/8.jpg" draggable="false" />
              <img class="image" src="img/9.jpg" draggable="false" />
            </div>
            <script> 
              const track = document.getElementById("image-track");
              
              const handleOnDown = e => track.dataset.mouseDownAt = e.clientX;
              
              const handleOnUp = () => {
                track.dataset.mouseDownAt = "0";  
                track.dataset.prevPercentage = track.dataset.percentage;
              }
              
              const handleOnMove = e => {
                if(track.dataset.mouseDownAt === "0") return;
                
                const mouseDelta = parseFloat(track.dataset.mouseDownAt) - e.clientX,
                      maxDelta = window.innerWidth / 2;
                
                const percentage = (mouseDelta / maxDelta) * -100,
                      nextPercentageUnconstrained = parseFloat(track.dataset.prevPercentage) + percentage,
                      nextPercentage = Math.max(Math.min(nextPercentageUnconstrained, 0), -100);
                
                track.dataset.percentage = nextPercentage;
                
                track.animate({
                  transform: `translate(${nextPercentage}%, -50%)`
                }, { duration: 1200, fill: "forwards" });
                
                for(const image of track.getElementsByClassName("image")) {
                  image.animate({
                    objectPosition: `${100 + nextPercentage}% center`
                  }, { duration: 1200, fill: "forwards" });
                }
              }
              
              /* -- Had to add extra lines for touch events -- */
              
              window.onmousedown = e => handleOnDown(e);
              
              window.ontouchstart = e => handleOnDown(e.touches[0]);
              
              window.onmouseup = e => handleOnUp(e);
              
              window.ontouchend = e => handleOnUp(e.touches[0]);
              
              window.onmousemove = e => handleOnMove(e);
              
              window.ontouchmove = e => handleOnMove(e.touches[0]);
          </script>
    </body>
</html>